# ğŸ“¦ Sistema de GestiÃ³n de Inventario y POS (Point of Sale)

Un sistema integral "Full-Stack" para la gestiÃ³n de inventario y punto de venta. DiseÃ±ado con una arquitectura moderna orientada a microservicios mediante Docker, asegurando alta disponibilidad, precisiÃ³n financiera y una excelente experiencia de usuario.

## âœ¨ CaracterÃ­sticas Principales

### ğŸ“Š Dashboard AnalÃ­tico (Business Intelligence)
* **MÃ©tricas en tiempo real:** VisualizaciÃ³n instantÃ¡nea de Ventas Totales, Ganancia Neta y volumen de transacciones del dÃ­a.
* **GrÃ¡ficos interactivos:** Comparativa de Ingresos vs. Ganancias (Ãºltimos 7 dÃ­as) y distribuciÃ³n de mÃ©todos de pago mediante grÃ¡ficos construidos con `Recharts`.
* **Alertas automatizadas:** IdentificaciÃ³n automÃ¡tica de productos con stock bajo y ranking de los mÃ¡s vendidos.

### ğŸ›’ Punto de Venta (POS) Inteligente
* **Carrito dinÃ¡mico:** BÃºsqueda rÃ¡pida por nombre o cÃ³digo de barras (SKU).
* **ValidaciÃ³n estricta de stock:** PrevenciÃ³n de ventas sin inventario fÃ­sico con notificaciones instantÃ¡neas.
* **MÃºltiples mÃ©todos de pago:** Soporte para Efectivo, Tarjeta y Transferencia.

### ğŸ“¦ GestiÃ³n de Inventario Avanzada
* **Inteligencia comercial:** CÃ¡lculo de margen de ganancia en tiempo real. Sugerencia automÃ¡tica de precios de venta (markup del 100%) al ingresar el costo.
* **AuditorÃ­a completa:** Sistema de logs (historial) por producto que registra quiÃ©n, cuÃ¡ndo y quÃ© acciÃ³n se realizÃ³ (CreaciÃ³n, EdiciÃ³n, Venta, EliminaciÃ³n).
* **Manejo de casos lÃ­mite:** Soporte nativo para productos sin SKU (previniendo conflictos de claves Ãºnicas en base de datos).

### ğŸ”” UI/UX Premium
* Interfaz fluida e intuitiva con notificaciones modernas animadas impulsadas por `Sileo`.
* Formateo estricto de moneda local (`es-CL`) en toda la aplicaciÃ³n.

---

## ğŸ› ï¸ TecnologÃ­as Utilizadas

El proyecto estÃ¡ dividido en una arquitectura de tres capas, orquestadas completamente por **Docker Compose**:

**Frontend:**
* [React 18](https://react.dev/) + [TypeScript](https://www.typescriptlang.org/)
* [Vite](https://vitejs.dev/) (Bundler ultrarrÃ¡pido)
* [Recharts](https://recharts.org/) (VisualizaciÃ³n de datos)
* [Lucide React](https://lucide.dev/) (IconografÃ­a)
* [Sileo](https://sileo.aaryan.design/) (Sistema de notificaciones Toast)

**Backend API:**
* [Python 3.9](https://www.python.org/)
* [Flask](https://flask.palletsprojects.com/) (Framework web)
* [Flask-SQLAlchemy](https://flask-sqlalchemy.palletsprojects.com/) (ORM para la base de datos)
* Manejo estricto de variables de entorno (Fail-fast architecture)

**Base de Datos:**
* [PostgreSQL 15](https://www.postgresql.org/)
* PrecisiÃ³n financiera estricta utilizando tipos de datos `NUMERIC(10, 2)`.

---

## ğŸš€ Requisitos Previos

Para ejecutar este proyecto en tu mÃ¡quina local, necesitas tener instalado:
1. **Docker Desktop:** AsegÃºrate de que tu PC tenga la **VirtualizaciÃ³n por hardware (VT-x / AMD-V)** activada en la BIOS y WSL2 habilitado (en Windows).
2. **Git** (Opcional, para clonar el repositorio).

---

## âš™ï¸ InstalaciÃ³n y Uso (Quick Start)

### Paso 1: Clonar el proyecto y configurar credenciales
Descarga el cÃ³digo fuente y crea tu archivo de configuraciÃ³n de base de datos.

```bash
git clone [https://github.com/tu-usuario/tu-repositorio.git](https://github.com/tu-usuario/tu-repositorio.git)
cd tu-repositorio

Crea un archivo llamado .env en la raÃ­z del proyecto (junto a docker-compose.yml) con el siguiente contenido:

# .env
DB_USER=
DB_PASSWORD=
DB_NAME=

### Paso 2: Ejecutar la aplicaciÃ³n

El proyecto incluye scripts automatizados para levantar todo el entorno con un solo clic.

Para usuarios de Windows:

Haz doble clic en el archivo iniciar_app.bat.

El script verificarÃ¡ que Docker estÃ© encendido, construirÃ¡ las imÃ¡genes e iniciarÃ¡ los contenedores en segundo plano.

Al terminar, para detener el sistema, ejecuta detener_app.bat.

Para usuarios de Mac/Linux (Terminal):

# Iniciar servicios
docker-compose up --build -d

# Detener servicios
docker-compose down

Paso 3: Acceder al sistema
Una vez que la consola indique que los servicios estÃ¡n activos, abre tu navegador web e ingresa a:
ğŸ‘‰ http://localhost:3000 (O el puerto configurado en Vite)

La API del backend estarÃ¡ corriendo silenciosamente en http://localhost:5000.

### ğŸ“‚ Estructura del Proyecto

ğŸ“¦ GESTION DE INVENTARIO
 â”£ ğŸ“‚ backend                 # LÃ³gica de servidor en Flask (Python)
 â”ƒ â”£ ğŸ“œ app.py                # Punto de entrada de la API
 â”ƒ â”£ ğŸ“œ models.py             # Esquemas de la BDD (SQLAlchemy)
 â”ƒ â”£ ğŸ“œ routes.py             # Controladores (Endponits REST)
 â”ƒ â”£ ğŸ“œ utils.py              # Funciones auxiliares (Logs/AuditorÃ­a)
 â”ƒ â”£ ğŸ“œ requirements.txt      # Dependencias de Python
 â”ƒ â”— ğŸ³ Dockerfile            # ConstrucciÃ³n de la imagen backend
 â”£ ğŸ“‚ db                      # Scripts de inicializaciÃ³n de la Base de Datos
 â”ƒ â”— ğŸ“œ init.sql              # CreaciÃ³n de tablas (products, sales, sale_items...)
 â”£ ğŸ“‚ frontend                # Interfaz de usuario en React/TypeScript
 â”ƒ â”£ ğŸ“‚ src
 â”ƒ â”ƒ â”£ ğŸ“‚ components          # Componentes reutilizables (Modales, Nav, etc.)
 â”ƒ â”ƒ â”£ ğŸ“‚ pages               # Vistas (Dashboard, POS, Inventario, Historial)
 â”ƒ â”ƒ â”£ ğŸ“œ api.ts              # ConfiguraciÃ³n de Axios para llamadas al backend
 â”ƒ â”ƒ â”£ ğŸ“œ App.tsx             # Enrutador principal y Sidebar
 â”ƒ â”ƒ â”£ ğŸ“œ index.css           # Estilos personalizados (BEM) y UI Tokens
 â”ƒ â”ƒ â”— ğŸ“œ types.ts            # Interfaces TypeScript globales
 â”ƒ â”£ ğŸ“œ package.json          # Dependencias de Node.js
 â”ƒ â”— ğŸ³ Dockerfile            # ConstrucciÃ³n de la imagen frontend
 â”£ ğŸ³ docker-compose.yml      # Orquestador de contenedores (App, API, DB)
 â”£ ğŸ“œ iniciar_app.bat         # Script rÃ¡pido de inicio (Windows)

### ğŸ”— Principales Endpoints de la API

MÃ©todo,Endpoint,DescripciÃ³n
GET,/api/dashboard,"Retorna KPIs principales, alertas de stock y mÃ©tricas."
GET,/api/sales/trends,Obtiene el historial de ingresos vs ganancias de los Ãºltimos 7 dÃ­as.
GET,/api/products,Lista todos los productos activos en el inventario.
POST,/api/products,Crea un nuevo producto.
PUT,/api/products/<id>,Actualiza la informaciÃ³n de un producto especÃ­fico.
DELETE,/api/products/<id>,Soft-delete (Desactiva) un producto.
POST,/api/sales,Procesa una nueva venta y descuenta el stock (ACID transaction).
GET,/api/sales,Retorna el historial de ventas paginable.

